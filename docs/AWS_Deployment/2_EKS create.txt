1. Create the EKS Cluster
When an EKS cluster is first created, AWS automatically performs some background update actions (for example, control plane upgrades and addon creation).
If you try to create a Fargate Profile immediately, AWS may return a 409 Conflict because it considers an “update in progress.”

Use the following command to create the cluster with both private and public subnets:

eksctl create cluster \
  --name dev-eks \
  --vpc-private-subnets=subnet-0b56bc33876e94eea,subnet-0215927caa5f3845b \
  --vpc-public-subnets=subnet-0ddef7f980fe19c7c,subnet-0d733b663891343be \
  --region us-east-2 \
  --fargate




2. Manually Add a Fargate Profile

If the default Fargate Profile was not created due to the update conflict, you can add it manually with:

eksctl create fargateprofile --cluster dev-eks --name fp-default --namespace default --region us-east-2





3. Configure kubectl to Connect to the Cluster

To manage and operate the EKS cluster using kubectl, you need to write the kubeconfig file.
This command generates the file at C:\Users\Administrator\.kube\config:
eksctl utils write-kubeconfig --region us-east-2 --cluster dev-eks